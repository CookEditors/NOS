<!doctype html>
<html lang="en-US">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>Persons in the Story &#124; Tales of Murder</title>
		<meta name="description" content="Chapter 19 of The Techniques of the Mystery, published 1913.">
		<meta name="keywords" content="">
		
		<!-- include open-graph.html w/ open moustache/percent-->

		<!-- Webmaster Tools Verification -->
		

		

		<!-- CSS -->
		<link rel="stylesheet" href="/assets/css/styles.css">
		
		<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
	
		<!--[if lt IE 9]>
    	<script src="bower_components/html5shiv/dist/html5shiv.js"></script>
    	<script src="_assets/js/vendor/respond.js"></script>
		<![endif]-->
		
		<!--load jQuery, required-->
		<script src="/assets/js/vendor/jquery-1.11.2.js"></script>

		<script src="/assets/js/vendor/jquery-ui.min.js"></script>

		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script>

	</head>

















<body  id="Persons in the Story" class="ipadBS murderwiki">

	<!-- include facebookshare.html -->

	<!-- MASTHEAD -->

<header class="site__header"> <!-- contains full width, resizing background image -->
	<div class="container"> <!-- 960px width, centered content area -->

		<div class="masthead"> <!-- clearfix -->

			<!-- <img src="/assets/img/circle_crow_paper.png" alt="" class="masthead__logo grit"> -->

			<div class="branding">
				<a href="http://www.talesofmurder.com/">
					<img class="" src="/assets/img/site_logo4a_f.png" alt="site logo for TalesofMurder.com" width="600">
				</a> <!-- link (ahref) makes header image a link back to HOME -->
				<!-- <h2 class="masthead__title grit"><span class="title__sub">Tales of </span><span class="title__main"><span class="m">m</span><span class="urde">urde</span><span class="r">r</span></span></h2>

				<h3 class="masthead__tagline">For readers with time to <span>kill</span> &hellip;</h3> -->
			</div> <!-- end div .masthead-inner__test -->

			<div class="navicon toggle-menu menu-right">
      	<!-- <i class="fa fa-navicon"></i> -->
      	<h6 style="margin-top: 1.25rem;font-size: 1rem;"><i class="fa fa-navicon"></i> MENU</h6>
    	</div>

		</div> <!-- end div .masthead__test -->


	<!-- MAIN NAVIGATION MENU -->

    <!-- <div class="navicon__test toggle-menu menu-right">
      <i class="fa fa-navicon"></i>
    </div> -->

    <nav  class="nav__primary cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right"> <!-- if  statement removes menu from home (eventually only WelcomeGate) page -->

      <h1 class="hidden">Main Navigation</h1>
      <div class="nav__basic">
        <!-- <h3>Menu</h3> -->
        <a  href="/index.html">Home</a>
        <a  href="/about/index.html">About</a>
        <a  href="/short-stories/index.html">Short&nbsp;Stories</a>
       <!--  <a  href="/the-red-file/index.html">The&nbsp;Red&nbsp;File</a>
        <a  href="/book-catalog/index.html">Book&nbsp;Catalog</a> -->
        <a  href="/murderwiki/index.html">MurderWiki</a>
      </div>
    </nav> <!-- nav__primary -->

  </div> <!-- end div frame -->
</header> <!-- site__header -->





  <main class="main"> <!-- removed [style="height:100%;"] to correct ios9 browser height problem ... WHY!? -->
    <div class="content">
    	<div id="thepost" class="post">

  <header class="post__header clearfix">
	<!-- README IF STATEMENT -->
  

		<div class="clearfix titlebox">
	  	<div class="storytitles" id="top">
				<h1 class="post__title" style="margin-bottom:2rem;font-size:3rem;">Persons in the Story</h1>
				<h2 class="post__title" style="margin-bottom:2rem;font-size:2rem;"></h2>
				<h3 class="post__author">By <strong>Carolyn Wells</strong></h3>

				<figure class="post__img"> <!-- add class grit to dirty up pic -->
						<img src="" alt="">
						<figcaption class="post__excerpt">Chapter 19 of <i>The Techniques of the Mystery</i>, published 1913.</figcaption>
				</figure> <!-- end div post__image
				<!-- <h2 class="post__excerpt">Chapter 19 of <i>The Techniques of the Mystery</i>, published 1913.</h4> -->
			</div> <!-- end div titles -->
		</div> <!-- end div clearfix -->

		<div class="post__meta">
			<p>word count: 3,901</p>
			<p>time to read:
				
				
					<span class="time">19</span> min 
				
			</p>
		</div> <!-- end div post__meta -->

  </header>

	<!-- show either div.pc-tease OR div.cu-tease:
	(1) if normal post, then show div.cu-tease,
	(2) if premium post && localStorage[registered=true], then show div.cu-tease,
	(3) if premium post && !localStorage[registered=true], then show div.pc-tease && include/show readmore.html
	-->

	<!-- <div class="pc-tease grit hidden">
		<h4><i class="fa fa-sign-in"></i>&nbsp;PREMIUM CONTENT</h4>
		<h5>REGISTERED USERS ONLY</h5>
		<p>Enjoy an online sample of <span>Persons in the Story</span>. To read the full story, just register with a valid email address. You'll also be able to download either a PDF, Kindle or ePub version. Full details below the sample.</p>
	</div> end div pc-tease -->

	  <!-- <div class="cu-tease grit">
		<p><strong>PSST! Hey, buddy &hellip;</strong> did'ya know you can download <a href="#"><strong>Persons in the Story</strong></a> for any ereader device (<em>Kindle, iBooks, etc.</em>) or as PDF &hellip; perfect for reading when you're not online but have time to kill! <strong>Look for the <a href="#ssactions_ID"><span>Download</span></a> buttons at the end of this story.</strong></p>
	</div> end div cu-tease --> <!-- NOTE: DISABLED TEMPORARILY UNTIL PROPER DOWNLOAD CAN BE SET UP ... DAY OR TWO AT MOST!! -->

		<div class="fontresizer">
	<h6 class="hidden">Adjust Font Size</h6>
	<button id="linkDecrease"><i class="fa fa-minus-square fa-2x"></i></button>
	<i class="fontresizer__icon fa fa-font"></i><i class="fontresizer__icon fa fa-font fa-2x"></i>
	<button id="linkIncrease"><i class="fa fa-plus-square fa-2x"></i></button>   

</div> <!-- end div fontresizer -->

	<article class="post__content" id="story-main">
  	<section id="toc" class="toc">
  <header>
    <h6>Table of Contents</h6>
  </header>
<div id="drawer">
<ol id="markdown-toc">
  <li><a href="#the-victim" id="markdown-toc-the-victim">The Victim</a></li>
  <li><a href="#the-criminal" id="markdown-toc-the-criminal">The Criminal</a></li>
  <li><a href="#faulty-portrayal-of-the-criminal" id="markdown-toc-faulty-portrayal-of-the-criminal">Faulty Portrayal of the Criminal</a></li>
  <li><a href="#the-secondary-detective" id="markdown-toc-the-secondary-detective">The Secondary Detective</a></li>
  <li><a href="#the-heroine-and-the-element-of-romance" id="markdown-toc-the-heroine-and-the-element-of-romance">The Heroine and the Element of Romance</a></li>
  <li><a href="#the-police" id="markdown-toc-the-police">The Police</a></li>
  <li><a href="#the-supernumeraries" id="markdown-toc-the-supernumeraries">The Supernumeraries</a></li>
</ol>

  </div>
</section>
<p><!-- table-of-contents --></p>

<p>Admitting that, according to a consensus of opinion, a murder mystery makes the most interesting plot for a Detective Story, let us consider the characters that necessarily belong to such a plot.</p>

<h2 id="the-victim">The Victim</h2>

<p>De Quincey has pointed out, in his entertaining essay, that the victim of the crime should be selected with great care. Let us then, in planning our story, first decide upon the victim. Shall we choose a man or a womanâ€”old or young?</p>

<p>A favorite victim with the writers of Detective Fiction is an elderly man, perhaps a banker, or some other wealthy citizen of importance to the community. This is a reasonable choice, for the character has the regard and interest of his fellow townsmen, without too great sympathy on the part of the reader.</p>

<p>Again, a charming young woman may be chosen for this role, but in this case the reader must not be allowed to know and love her before the tragedy.</p>

<p>The point to be remembered by the author is that the victim must be of the greatest possible importance generally, yet not specifically in the sympathy of the reader. Indeed, the victim, if beautiful or worthy, must be almost or entirely a stranger to the reader. But if the victim be wicked or unattractive, it matters not how great the reader's acquaintance with him. In a word, the reader must be averse to or indifferent to the victim, in order that he-may be satisfied with the conditions of the story.</p>

<p>Undoubtedly Poe reached the height of perfection in his choice, when he selected a mother and a daughter for the victims of the "Rue Morgue." What could be more dramatic? And yet as the reader knew nothing and never learned anything of these two people except their names, casually named in a newspaper report, he could not feel a personal grief at their death.</p>

<p>We accept the deceased gentleman of Doyle's "The Hound of the Baskervilles" or the murdered bride of Green's "The Filigree Ball" or the brutally-assassinated "Widow Lerouge" by Ga- boriau, because they are all strangers to us, and we know they are a necessary part, indeed, the very foundation of the machinery of the story.</p>

<p>So guard against introducing the victim too long before the murder, or allowing him or her to engage too deeply the reader's sympathy or admiration.</p>

<p>This is not so likely to be the case in a short-story as in a novel. There are few, if any, of Conan Doyle's victims for whom we have any personal feeling whatever. Indeed, they are usually dead when the story begins, unless the problem may be a matter of preventing the crime.</p>

<p>Select your victim for his or her intrinsic worth or prominence and the sympathetic interest he or she may have for the other characters of the story, but not for the reader.</p>

<p>In "The Leavenworth Case" and "Hand and Ring," these principles are strictly observed. In "The Big Bow Mystery," the horrible deed is committed on a man we know nothing of, and one who is quite as much a lay figure as is a tailor's dummy.</p>

<p>In "The Mystery of the Yellow Room," the victim is a beautiful young woman who has our entire sympathy and admiration, but the situation is saved because she is not really killed in the attempt at murder.</p>

<p>An occasional device is to have the victim apparently a good and kind old gentleman, most foully murdered. But later it transpires that the seemingly good and kind victim was in reality a very bad man, and was killed in justice and righteous indignation.</p>

<p>Conan Doyle as a rule makes his victim an inconspicuous and even uninteresting characterâ€”oftenest, perhaps, a bad old man. When, as in the case of "The Speckled Band," the intended victim is a young woman, the tragedy is whisked around and the villain proves to be the victim.</p>

<p>All this is entirely legitimate and advisable. The ideal victim is one in whom we have no personal interest, but whose importance we easily recognize.</p>

<h6 class="btt"><a href="#top">Back to Top</a></h6>

<h2 id="the-criminal">The Criminal</h2>

<p>The next character to be chosen must be our criminal. Here again is one, who, if he is to be convicted, must not be too deeply in the reader's sympathy. And yet he must be a worthwhile character; it is old-fashioned, now, to have the crime committed by the butler or the private secretary. The drawing of the criminal calls for fine shading and strong effects. He must be both intelligent and ingenious, in order to give the Transcendent Detective a foeman worthy of his steel. The reader must have no liking or pity for him. In his perfection he should be what Poe calls, "that monstrum horrendum, an unprincipled man of genius."</p>

<p>Moreover, he must be cleverly drawn in order to conceal his identity from the reader until the last. He must appear to be what he is not, and he must not appear to be what he is; and this calls for Machiavelian cunning on the part of both criminal and author. The identity of the criminal, disclosed at the last, must be the greatest surprise of the story.</p>

<p>This is marvellously well accomplished in "Hand and Ring" and "Big Bow Mystery." In both these books the reader cannot possibly guess the criminal, although he is inconspicuously in plain view from the very beginning. But so adroitly is his identity concealed and so definitely is he made to appear what he is not, that detection by the reader is not possible. To be sure, in neither book is the motive so much as hinted at until the final disclosures, and this is not quite in accordance with the unwritten law of the Detective Story. But it is forgivable in the books mentioned, because of their splendid workmanship and original plot.</p>

<p>In "The Leavenworth Case," written many years ago, we have one of the earliest and best examples of the private secretary criminal. Here, too, he is before our eyes from the very beginning, yet we suspect everyone else in the book before we think of him.</p>

<h6 class="btt"><a href="#top">Back to Top</a></h6>

<h2 id="faulty-portrayal-of-the-criminal">Faulty Portrayal of the Criminal</h2>

<p>Gaboriau was at fault in this matter in the "Widow Lerouge." By the time we are half through the book and long before any hint of the true state of affairs is necessary, we are forced to the inevitable conclusion of the guilt of Noel, start ling as that theory seems on its face, simply because Noel is the only possible person who has consistently avoided being the object of suspicion. A still greater mistake is when during the course of a story every character is at some time suspected and then cleared of suspicion, and at the end we learn that the crime is committed by a person of whom we have never heard.</p>

<p>Conan Doyle employs this hitherto unknown criminal frequently. Usually he is some old man who had known and quarreled with his old friend, the victim, many years before. For instance, in "The Adventure of Black Peter" and in "The Five Orange Pips," these are the circumstances. But Conan Doyle's motive is the exploitation of the powers of his Transcendent Detective in discovering the unheard-of criminal, and so in his case the end justified the means. But ordinarily, and especially in a book, it is bad workmanship to absent the criminal from the scene until the last.</p>

<p>Notwithstanding the criminal of the Rue Morgue murders, it is ill-advised to have a freakish or a superhuman agency. The imitators of Poe's masterpiece have not been successful, though many have impressed members of the Simian tribe into their service as criminals.</p>

<p>The ideal criminal is a sane, respectable and well-educated man, like Lawyer Orcutt, or Mr. Grodman. Such as these escape the reader's suspicion by seeming to belong among the reputable characters of the story.</p>

<h6 class="btt"><a href="#top">Back to Top</a></h6>

<h2 id="the-secondary-detective">The Secondary Detective</h2>

<p>The Transcendent Detective being of such importance as to require a chapter to himself, we come next to the sub ordinate detective. He is usually a Central Office Man, or a young reporter, or a lawyer with a taste for detective work. He serves as a foil for the higher detective's glories. He makes mistakes for the other to correct. He starts false trails to lead the reader astray and to give the superior detective opportunity to scoff at him and to set him right. This character may not be a detective at all, but simply a "Greek Chorus," like Dr. Watson, or like Hutchinson Hatch in "The Thinking Machine," or Walter Jameson in the "Silent Bullet." But usually this character is a detective who variously hinders or assists, as Sweetwater with Mr. Gryce, or Mr. Barnes with Mr. Mitchel.</p>

<p>This secondary detective character is, at times and quite effectively, a woman. In "That Affair Next Door" this role is taken by Miss Amelia Butterworth, who is also the teller of the story. In "The Master of Mysteries," Astro is aided and abetted in his charlatanry by a beautiful young woman called Valeska. In a clever series of stories called "Tales from the Red Ledger," the Transcendent Detective is helped at times by a mysterious and vaguely-pictured woman known as "The Orchid."</p>

<p>But invariably it is a good device to have a major and a minor detective character, that by comparison or contrast their leads and misleads may further the author's ends.</p>

<p>The suspects are highly important characters in our Detective Story. They appear one after another, few or many, according to the length of the story. As each suspect is brought forward, the reader must be made to feel certain that this is the criminal. Then a doubt is raised or positive innocence is shown, and the next suspect is brought forward.</p>

<p>In a tale of simple construction, the suspects will come forward, a, b, c, d. The first three are eventually proved innocent and D is the criminal.</p>

<p>A more complex plot would have D wrongly accused and proved innocent and show that, after all, C was the criminal. In this case the reader must be made to insist to himself that he knew it was C all the time, even though the case looked pretty black against D. Or, a clever dodge is to suspect the characters in order, and though A was exonerated long ago, prove at the last that he was the real criminal after all.</p>

<p>It is the variations of these plans that make for interest in a Detective Story, and the characterization of these suspects has much to do with the success of the plot. The breathless fear that the criminal may be the beautiful but headstrong young woman; the ever rising suspicion that the criminal is the handsome, manly hero; the lurking doubt of the nephew who inherits; the distrust of certain old family servants all these serve to keep interest alive and curiosity piqued.</p>

<p>The principal characteristics, then, of our criminal must be his own importance, his dramatic personality, and his successful concealment until the denouement.</p>

<p>These rules are not inflexible for short-stories, where there is less room for characterization than in books. The criminals in Conan Doyle's stories, like the victims, have little personality, because the fierce light that beats upon Sherlock Holmes leaves most of the other characters in shadow. But in a full- sized novel, where characterization is an important factor of the workmanship, the criminal's make-up is of vital importance.</p>

<h6 class="btt"><a href="#top">Back to Top</a></h6>

<h2 id="the-heroine-and-the-element-of-romance">The Heroine and the Element of Romance</h2>

<p>As to the advisability of a heroine, authorities differ. The true economy of the Detective Story forbids the introduction of romance, especially in short-stories. The purists hold that the single-minded artist in detective fiction must not introduce two kinds of interest, for they can seldom be so perfectly balanced that one or the other shall not surer. The mind of the reader does not wish to jump continually from the solution of the problem to a love interest, and back again.</p>

<p>On the other hand, some writers deem it necessary to introduce a charming young woman who has little to do with the story, and who invariably marries the subordinate detective. The truth is, the magazine editors are largely to blame for this use of romance. In their inexorable demand for "a happy ending," they insist upon those wedding bells at the end of the story, that their joyful peals may drown the sound of the sentence pronounced on the criminal.</p>

<p>But Poe and Conan Doyle and all their worth-while successors omit the element of romance, except where it is an inherent part of the plot. Otherwise, romance in a Detective Story is wasteful and ridiculous excess. The whole intent of the problem and its solution is to engage the attention of the reader to the very utmost, and if this be successfully done, the reader has no nook or comer of his attention vacant to accommodate this love interest.</p>

<p>But if, as in "A Scandal in Bohemia," the beautiful woman is an integral part of the story, then she may be introducer and expatiated upon at the pleasure of the author.</p>

<p>In the story just referred to, this point is marvelously well taken in these opening words:</p>

<blockquote>
  <p>To Sherlock Holmes she is always the woman. I have seldom heard him mention her under any other name. In his eyes she eclipses and predominates the whole of her sex. It was not that he felt any emotion akin to love for Irene Adler. All emotions, and that one particularly, were abhorrent to his cold, precise, but admirably balanced mind. He was, I take it, the most perfect reasoning and observing machine that the world has seen; but, as a lover, he would have placed himself in a false position.</p>
</blockquote>

<blockquote>
  <p>He never spoke of the softer passions, save with a gibe and a sneer. They were admirable things for the observer-excellent for drawing the veil from men's motives and actions. But for the trained reasoner to admit such intuitions into his own delicate and finely adjusted temperament was to introduce a distracting factor which might throw a doubt upon all his mental results. Grit in a sensitive instrument, or a crack in one of his own high- power lenses, would not be more disturbing than a strong emotion in a nature such as his. And yet there was but one woman to him and that woman was the late Irene Adler, of dubious and questionable memory.</p>
</blockquote>

<p>Though expressing it strongly, it is true that extraneous romance in a Detective Story is like grit in a sensitive instrument, or a crack in a high-power lens. But, of course, in a novel or even a novelette the case is altered. Here we require a setting of picturesque complexity. And a love interest, properly managed, and woven into the mystery plot is almost a necessity.</p>

<p>But the introduction of the feminine element in a Detective Story is subject to certain and definite rules. A victim she may be, a suspect she may be, but only in rare cases and when exceptionally well done, should she be the criminal. As a suspect, a feminine character gives opportunity for sympathetic thrills, but the experienced reader of detective stories feels fairly sure that an attractive feminine suspect is not the real criminal.</p>

<h6 class="btt"><a href="#top">Back to Top</a></h6>

<h2 id="the-police">The Police</h2>

<p>Members of the police force are inevitable characters in Detective Fiction and have been presented in every possible light from a realistic picture of the actual Inspector to the ignorant and fanciful author's conception of the same. As these strong arms of the law must appear on our pages, let us endeavor to know whereof we speak, and learn a few simple and primitive facts about these people before we endeavor to portray them. It is amusing to read some of the absurd effects given to these clearly defined and easily recognized American citizens. Make them as picturesque as possible; give them dramatic, even humorous personality, but do not endow them with absurd responsibilities or official powers.</p>

<h6 class="btt"><a href="#top">Back to Top</a></h6>

<h2 id="the-supernumeraries">The Supernumeraries</h2>

<p>As to the supernumerary characters, the author must exercise his own taste and judgment, and he has fine scope for both. Of less importance in a short-story, they require merely to be kept in the background; but in a novel, they have their exits and their entrances, and play many, though subordinate parts. Each of these characters must have a positive and definite reason for being, and, if at all prominent, must be an inherent part of the plot. They are not to be scamped or slurred over in workmanship, for they are as important a part of the whole as the setting of a jewel or the binding of a book. They are the pence of a Detective Story, and must be taken care of; though in this case it does not follow that the pounds will take care of themselves.</p>

<h6 class="btt"><a href="#top">Back to Top</a></h6>

  </article>

</div> <!-- end of div post -->

    </div>

  </main>

  <footer class="site__footer" id="site__footer">
  <div class="container">
    <small><span class="rwd-line">Copyright 2014 &mdash; 2016 Tales&nbsp;of&nbsp;Murder&nbsp;Press,&nbsp;LLC. </span>All Rights Reserved.</small>
  </div>
</footer>

  <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script> -->

<script src="/assets/js/vendor/modernizr.custom.34164.js"></script>

<!--load jQuery, required-->
<script src="/assets/js/vendor/jquery-1.11.2.js"></script>

<script src="/assets/js/vendor/jquery-ui.min.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script>

<!-- TYPEKIT -->
<script src="//use.typekit.net/gwl0zuj.js"></script>
<script>try{Typekit.load();}catch(e){}</script>

<script src="/assets/js/vendor/store.js"></script>

<!--load jPushMenu, required-->
<script src="/assets/js/vendor/jPushMenu.js"></script>

<script src="/assets/js/vendor/slabtext.js"></script>

<script src="/assets/js/vendor/scroll-on-page.js"></script>

<!-- <script src="/assets/js/vendor/store.js"></script>
NOTE: moved to HEAD -->
<script src="/assets/js/vendor/flipclock.min.js"></script>

<!-- <script src="/assets/js/vendor/expandable-section.js"></script> -->

<!-- velocity.js -->
<script src="/assets/js/vendor/velocity.min.js"></script>

<!-- masonry.js -->
<script src="/assets/js/vendor/masonry.pkgd.min.js"></script>
<script src="/assets/js/vendor/isotope.pkgd.min.js"></script>
<script src="/assets/js/vendor/packery-mode.pkgd.min.js"></script>


<!-- animated progbar -->
<script>
  function MoveTo() {
    var prpos = document.getElementById('prpos');
    prpos.style.width = document.getElementById('moveTo').value + "%";
  }
</script>

<!--call jPushMenu, required-->
<script>
  jQuery(document).ready(function($) {
   $('.toggle-menu').jPushMenu();
 });
</script>

<!-- <script src="/assets/js/vendor/rwd.js"></script> -->

<script>
	$("h1").slabText({});
</script>

<script type="text/javascript">
	$(document).ready(function() {
    var expanderTrigger = document.getElementById("js-expander-trigger");
    var expanderContent = document.getElementById("js-expander-content");

    $('#js-expander-trigger').click(function(){
      $(this).toggleClass("expander-hidden");
    });
  });
</script>

<script>

  (function() {

   var co = $('article').find('span.co').each(function() {
    var $this = $(this);

    $('<blockquote></blockquote>', {
     class: 'co',
     text: $this.text()
   }).prependTo( $this.closest('p') );

  });

 })();

</script>




<script>
  function regExpand() {
    console.log("button works!")
  }
</script>


<script>
  $(document).ready(function(){
    $("#register__button").click(function(){
      $("#panel").slideDown("5000", "easeOutBounce");
    });
  });
</script>


<script type='text/javascript'>
  $(document).ready(function() {
    $(".time").text(function (index, value) {
      return Math.round(parseFloat(value));
    });
    $(".hour").text(function (index, value) {
      return Math.floor(parseFloat(value));
    });
  });
</script>

<!-- this is the simple working version to set localStore attributes ... not used in lieu of callback at the end of ajaxMailChimp (below) -->
<!-- <script>

	$(document).ready(function() {

		init()

		function init() {
			if (!store.enabled) {
				alert('Local storage is not supported by your browser. Please disable "Private Mode" to continue, or upgrade your browser.')
				return
			}
			$("#regSubmit").click(function() {
        store.set('registered', true);

        var email = $("#regEmail").val();
        store.set('email', email)

      })
		};
	})

</script> -->

<!-- CHECK LOCAL STORAGE -->
<!-- can I name this function/script?? -->
<script>

	$(document).ready(function() {
		if ($("#thepost").hasClass("premium_post")) {
			console.log("Premium Post")

			if (!store.get('registered')) {
				console.log('UNREGISTERED User');
				$(".pc-tease").removeClass("hidden");
				$(".cu-tease").hide();
				$(".ssactions").hide();

				$(".read-more").removeClass("hidden");
				$("#thepost").addClass("notreg")
			}
			else {
				console.log('REGISTERED User');
                // console.log(email)
            }
            }
      else {
             console.log("Post")
           }
         })
</script>




<!-- MAILCHIMP FORM STUFF -->

<!-- mailchimp-ajax.js -->
<script>
 var ajaxMailChimp = (function(){
 var module = {};

// Turn the given MailChimp form into an ajax version.
// If resultElement is given, the subscribe result is set as html to
// that element.
module.init = function ajaxMailChimpForm($form, $resultElement){

    // Hijack the submission. We'll submit the form manually.
    $form.submit(function(e) {
      e.preventDefault();

      if (!isValidEmail($form)) {
        var error =  "A valid email address must be provided."
        $resultElement.html(error);
        $resultElement.css("color", "red");
      } else {
        $resultElement.css({
         "background-color": "#fff",
         "color": "#8B0000",
         "margin-top": "1rem",
         "padding": "0.5rem"
       });
        $resultElement.html("Registering your download request &hellip;");
        $("#progress-bar").css("width", "75%").text("75%");
        submitSubscribeForm($form, $resultElement);
      }
    });
  };

// Validate the email address in the form
function isValidEmail($form) {
    // If email is empty, show error message.
    // contains just one @
    var email = $form.find("input[type='email']").val();
    if (!email || !email.length) {
      return false;
    } else if (email.indexOf("@") == -1) {
      return false;
    }

    return true;
  }

// Submit the form with an ajax/jsonp request.
// Based on http://stackoverflow.com/a/15120409/215821
function submitSubscribeForm($form, $resultElement) {
  $.ajax({
    type: "GET",
    url: $form.attr("action"),
    data: $form.serialize(),
    cache: false,
    dataType: "jsonp",
    jsonp: "c", // trigger MailChimp to return a JSONP response
    contentType: "application/json; charset=utf-8",

    error: function(error){
    // According to jquery docs, this is never called for cross-domain JSONP requests
  },

    success: function(data){
      if (data.result != "success") {
        var message = data.msg || "Sorry. Unable to subscribe. Please try again later."
        $resultElement.css("color", "red");

        // This won't happen if using "smart subscribe"
        if (data.msg && data.msg.indexOf("already subscribed") >= 0) {
          message = "You're already subscribed. Thank you."
          $resultElement.css("color", "white");
        }

        $resultElement.html(message);

        }

      else {
        if ($("#mc-embedded-subscribe-form").hasClass("form__premium")) {
          console.log("premium form");
          var message = "Thank you!! Please continue reading &hellip;";
          location.reload(); //reloads the premium post page at same location
        }
        else if ($("#mc-embedded-subscribe-form").hasClass("form__postdownload")) {
          console.log("post download form");
          var message = "Thank you!!<br>You are subscribed &amp; you can download your story next &hellip;";
          var url = "/downloads/short-stories/index.html"; // needs to be dynamically created for *each* story ... will use localStorage cookie (maybe!)

          $(location).attr('href', url);
        }
        else if ($("#mc-embedded-subscribe-form").hasClass("form__wg")) {
          console.log("wg form");

          var url = "/thanks/theredfile/";

          $(location).attr('href', url);
        }
        else {
          console.log("no class whatsoever!");
        }

        $resultElement.html(message);

        var email = $("#mce-EMAIL").val();
        store.set('registered', true);
        store.set('emailaddress', email);

      } // end of else statement
    }
  });
}

return module;

})();
</script>


<!-- sets story data (title, author, etc.) to localStorage/sessionStorage for use on download page -->
<script>

$(document).ready(function() {

  $("#button__postdownload").click(function() {
    // console.log("button__postdownload clicked");
    var url; // should be available throughout click function

    init()
    function init() {
      if (!store.enabled) {
        var url = "/downloads/short-stories/index-other.html"; //GENERIC DOWNLOAD PAGE
        alert('Local storage is not supported by your browswer. Please disable "Private Mode", or upgrade your browser.')
      return
      } // end of if !store.enabled

      var url = "/downloads/short-stories/index2.html";
      var metaArray = ["Persons in the Story", "Carolyn Wells", "History", "", "Chapter 19 of <i>The Techniques of the Mystery</i>, published 1913.", "", "", ""];

      // ARRAY KEY
      // [0] = title
      // [1] = author
      // [2] = genre
      // [3] = image
      // [4] = excerpt
      // [5] = kindle url
      // [6] = epub url
      // [7] = pdf url

      store.set('storyMeta', JSON.stringify(metaArray));

      console.log(metaArray);
    } // end of function init()

    if (store.get('registered')) {
      console.log("registered user!");
      console.log(url);

      var emailaddress = store.get('emailaddress');
      console.log(emailaddress);
      $('#mce-EMAIL').val(emailaddress);
      // $(location).attr('href', url);  sends past modal to download page .. not currently working due to val = url issue!
    } // end if

  }); // end of click function
});
</script>


<!-- retrieve localStorage arrage & dump into page elements -->
<script>
  var retrievedMetaString = store.get("storyMeta");

  if (retrievedMetaString) {
    var retrievedMetaArray = JSON.parse(retrievedMetaString);
    document.getElementById("title").innerHTML = retrievedMetaArray[0];
    document.getElementById("author").innerHTML = retrievedMetaArray[1];
    document.getElementById("genre").innerHTML = retrievedMetaArray[2];
    document.getElementById("image").src = retrievedMetaArray[3];
    document.getElementById("excerpt").innerHTML = retrievedMetaArray[4];
    document.getElementById("kindle").href = retrievedMetaArray[5];
    document.getElementById("epub").href = retrievedMetaArray[6];
    document.getElementById("pdf").href = retrievedMetaArray[7];

    $(".download-title").html(retrievedMetaArray[0]);
}
</script>


<!-- WG reveal -->
<script>

  $(document).ready(function(){
    $(".reveal__button").click(function(){
      $("#revealer").hide();
      $(".reveal__answer p").removeClass("answer__hidden");
      $("#top-p").css({
        "font-weight": "bold"
      });
      $("#last-p").css({
        'color' : 'darkred',
        'fontWeight' : 'bold',
        'fontSize' : '1rem'
      });
      $(".reveal__answer").css({
        'border-color' : 'darkred',
        'border-size' : '2px'
      });
    })
  });
</script>


<!-- Packery/Masonry -->
<script>
  $(window).on('load', function(){
    $('ul.cards').isotope({
      columnWidth: 'li.card',
      itemSelector: 'li.card',
      layoutMode: 'masonry',
      masonry: {
        gutter: 20
      }
    });
  });
</script>

<!-- Isotope Filter -->
<script>

  $(window).load(function(){

    var $container = $('.cards');
    $container.isotope({
      filter: '*',
      animationOptions: {
        duration: 750,
        easing: 'linear',
        queue: false
      }
    });

    $('nav.iso-filter ul a').click(function(){

      var selector = $(this).attr('data-filter');
      $container.isotope({
        filter: selector,
        animationOptions: {
          duration: 750,
          easing: 'linear',
          queue: false,
        }
      });
      return false;
    });

  });

</script>


<!-- Font Resizer -->
<!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>   -->
<script type="text/javascript">
  $(document).ready(function () {
    $('#linkIncrease').click(function () {
      modifyFontSize('increase');
    });

    $('#linkDecrease').click(function () {
      modifyFontSize('decrease');
    });

    $('#linkReset').click(function () {
      modifyFontSize('reset');
    })

    function modifyFontSize(flag) {
      var divElement = $('#story-main');
      var currentFontSize = parseInt(divElement.css('font-size'));

      if (flag == 'increase')
        currentFontSize += 2;
      else if (flag == 'decrease')
        currentFontSize -= 2;
      else
        currentFontSize = 16;

      divElement.css('font-size', currentFontSize);
    }
  });
</script>


<!-- bourbon.refills.fadin -->
<script>
  $(document).ready(function() {
  var element = document.getElementById("js-fadeInElement");
  $(element).addClass('js-fade-element-hide');

  $(window).scroll(function() {
    if( $("#js-fadeInElement").length > 0 ) {
      var elementTopToPageTop = $(element).offset().top;
      var windowTopToPageTop = $(window).scrollTop();
      var windowInnerHeight = window.innerHeight;
      var elementTopToWindowTop = elementTopToPageTop - windowTopToPageTop;
      var elementTopToWindowBottom = windowInnerHeight - elementTopToWindowTop;
      var distanceFromBottomToAppear = 300;

      if(elementTopToWindowBottom > distanceFromBottomToAppear) {
        $(element).addClass('js-fade-element-show');
      }
      else if(elementTopToWindowBottom < 0) {
        $(element).removeClass('js-fade-element-show');
        $(element).addClass('js-fade-element-hide');
      }
    }
  });
});
</script>

<!-- bourbon.refills.fadin -->
<script>
  $("#deblur-button").click(function() {
  $('.transform').toggleClass('deblur');
});
</script>














</body>